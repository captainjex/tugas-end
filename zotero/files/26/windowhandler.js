window.dswh=window.dswh||{windowId:null,clientWindowRenderMode:null,cfg:null,init:function(a,b,d){this.windowId=a;this.clientWindowRenderMode=b;this.cfg=d?d:{};var c=this.strategy[b];if(c){c.validate();c.init(!1);jsf.ajax.addOnEvent(function(a){"success"===a.status&&c.init(!0)});if(window.$&&window.PrimeFaces)$(document).on("pfAjaxComplete",function(){c.init(!0)});var e=window.onload;window.onload=function(a){try{e?e(a):null}finally{c.init(!1)}}}},strategy:{CLIENTWINDOW:{validate:function(){this.cleanupCookies();
this.assertWindowId()},init:function(a){this.overwriteOnClickEvents();dswh.utils.appendHiddenWindowIdToForms()},assertWindowId:function(){if(!window.name||1>window.name.length)window.name="tempWindowId",window.location=dswh.utils.setUrlParam(window.location.href,"dswid",null)},overwriteOnClickEvents:function(){if(dswh.utils.isHtml5()&&dswh.cfg.storeWindowTree)for(var a=document.getElementsByTagName("a"),b=0;b<a.length;b++)a[b].onclick?(""+a[b].onclick).match(".*storeWindowTree().*")||function(){var d=
a[b].onclick;a[b].onclick=function(a){a=a||window.event;return dswh.strategy.CLIENTWINDOW.storeWindowTree()&&d.bind(this)(a)}}():a[b].onclick=function(){dswh.strategy.CLIENTWINDOW.storeWindowTree();return!0}},storeWindowTree:function(){for(var a=document.getElementsByTagName("head")[0].childNodes,b=[],d=0,c=0;c<a.length;c++){var e=a[c].tagName;e&&(dswh.utils.equalsIgnoreCase(e,"link")&&dswh.utils.equalsIgnoreCase(a[c].getAttribute("type"),"text/css"))&&(e=a[c].getAttribute("media"),!e||dswh.utils.equalsIgnoreCase(e,
"all")||dswh.utils.equalsIgnoreCase(e,"screen"))&&(b[d++]=a[c].getAttribute("href"))}localStorage.setItem(window.name+"_css",dswh.utils.stringify(b));a=document.getElementsByTagName("body")[0];localStorage.setItem(window.name+"_body",a.innerHTML);localStorage.setItem(window.name+"_bodyAttrs",a.getAttribute("class"));return!0},cleanupCookies:function(){var a=dswh.utils.getUrlParameter(window.location.href,"dsrid");a&&dswh.utils.expireCookie("dsrwid-"+a)}},LAZY:{validate:function(){this.cleanupCookies();
this.assertWindowId()},init:function(a){dswh.utils.appendHiddenWindowIdToForms()},assertWindowId:function(){var a=dswh.utils.getUrlParameter(window.location.href,"dswid");!window.name||1>window.name.length?a?dswh.cfg.initialRedirectWindowId&&a===dswh.cfg.initialRedirectWindowId?window.name=dswh.cfg.initialRedirectWindowId:(window.name="tempWindowId",window.location=dswh.utils.setUrlParam(window.location.href,"dswid",null)):dswh.windowId&&(window.name=dswh.windowId):"tempWindowId"===window.name?window.name=
a:window.name!==a&&(window.location=dswh.utils.setUrlParam(window.location.href,"dswid",window.name))},cleanupCookies:function(){var a=dswh.utils.getUrlParameter(window.location.href,"dswid");a&&dswh.utils.expireCookie("dsrwid-"+a)}}},utils:{isHtml5:function(){try{return!!localStorage.getItem}catch(a){return!1}},stringify:function(a){return JSON?JSON.stringify(a):a.join("|||")},equalsIgnoreCase:function(a,b){return a||b?a&&b?a.toLowerCase()===b.toLowerCase():!1:!0},getUrlParameter:function(a,b){var d=
document.createElement("a");d.href=a;if((d=d.search)&&0<d.length)for(var d=d.substring(1).split("\x26"),c=0;c<d.length;c++){var e=d[c].split("\x3d");if(e[0]===b)return 1<e.length?e[1]:""}return null},setUrlParam:function(a,b,d){a=a.split(/&|\?/g);for(var c="",e=0,k=!1,h=0;null!=a&&h<a.length;h++){var f=a[h].split("\x3d");if(1==f.length)c=f[0];else if(f[0]!=b)var g=0<e++?"\x26":"?",c=c+g+f[0]+"\x3d"+f[1];else k=!0,d&&(g=0<e++?"\x26":"?",c=c+g+b+"\x3d"+d)}!k&&d&&(g=0<e++?"\x26":"?",c=c+g+b+"\x3d"+d);
return c},appendHiddenWindowIdToForms:function(){for(var a=document.getElementsByTagName("form"),b=0;b<a.length;b++){var d=a[b],c=d.elements.dspwid;c||(c=document.createElement("INPUT"),c.name="dspwid",c.type="hidden",d.appendChild(c));c.value=dswh.windowId}},expireCookie:function(a){var b=new Date;b.setTime(b.getTime()-864E6);b=";max-age\x3d0;expires\x3d"+b.toGMTString();document.cookie=a+"\x3d"+b+"; path\x3d/"}}};